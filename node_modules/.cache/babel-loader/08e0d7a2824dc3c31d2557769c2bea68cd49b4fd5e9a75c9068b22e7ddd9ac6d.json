{"ast":null,"code":"import _slicedToArray from\"D:/Portfolio/Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./mode.css\";import React,{useEffect,useState}from'react';import{useDispatch}from\"react-redux\";import{themeActions}from\"../store/theme\";import ArrowDropUpIcon from'@mui/icons-material/ArrowDropUp';import DoneIcon from'@mui/icons-material/Done';import ContrastIcon from'@mui/icons-material/Contrast';import DarkModeIcon from'@mui/icons-material/DarkMode';import LightModeIcon from'@mui/icons-material/LightMode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var icons=[/*#__PURE__*/_jsx(LightModeIcon,{}),/*#__PURE__*/_jsx(DarkModeIcon,{}),/*#__PURE__*/_jsx(ContrastIcon,{})];var Mode=function Mode(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),iconIndex=_useState4[0],setIcon=_useState4[1];var mode='light';function fetchSystemMode(){if(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches){mode='dark';}else{mode='light';}}useEffect(function(){fetchSystemMode();if(mode==='dark'){handleModeChange(1);}},[mode]);function handleModeChange(index){if(index===0){mode=\"light\";}else if(index===1){mode=\"dark\";}else{fetchSystemMode();}setIcon(index);var listItems=document.getElementsByClassName(\"modeItem\");for(var i=0;i<3;i++){listItems[i].classList.remove(\"activeMode\");}listItems[index].classList.add(\"activeMode\");dispatch(themeActions.setMode(mode));setIsVisible(false);}function handleDropdown(){setIsVisible(!isVisible);}return/*#__PURE__*/_jsxs(\"div\",{className:\"theme\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown\",style:{display:isVisible?\"block\":\"none\"},children:[/*#__PURE__*/_jsxs(\"li\",{className:\"modeItem\",onClick:function onClick(e){return handleModeChange(0);},children:[/*#__PURE__*/_jsx(LightModeIcon,{}),\"Light\",/*#__PURE__*/_jsx(DoneIcon,{style:{color:iconIndex===0?\"inherit\":\"transparent\"}})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"modeItem\",onClick:function onClick(e){return handleModeChange(1);},children:[/*#__PURE__*/_jsx(DarkModeIcon,{}),\"Dark\",/*#__PURE__*/_jsx(DoneIcon,{style:{color:iconIndex===1?\"inherit\":\"transparent\"}})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"modeItem\",onClick:function onClick(e){return handleModeChange(2);},children:[/*#__PURE__*/_jsx(ContrastIcon,{}),\"Auto\",/*#__PURE__*/_jsx(DoneIcon,{style:{color:iconIndex===2?\"inherit\":\"transparent\"}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modeBtn\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleDropdown,children:[icons[iconIndex],/*#__PURE__*/_jsx(ArrowDropUpIcon,{})]})})]});};export default Mode;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","themeActions","ArrowDropUpIcon","DoneIcon","ContrastIcon","DarkModeIcon","LightModeIcon","icons","Mode","dispatch","isVisible","setIsVisible","iconIndex","setIcon","mode","fetchSystemMode","window","matchMedia","matches","handleModeChange","index","listItems","document","getElementsByClassName","i","classList","remove","add","setMode","handleDropdown","display","e","color"],"sources":["D:/Portfolio/Portfolio/src/theme/mode.js"],"sourcesContent":["import \"./mode.css\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { themeActions } from \"../store/theme\";\r\n\r\nimport ArrowDropUpIcon from '@mui/icons-material/ArrowDropUp';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\n\r\nimport ContrastIcon from '@mui/icons-material/Contrast';\r\nimport DarkModeIcon from '@mui/icons-material/DarkMode';\r\nimport LightModeIcon from '@mui/icons-material/LightMode';\r\n\r\nconst icons=[\r\n    <LightModeIcon />,\r\n    <DarkModeIcon />,\r\n    <ContrastIcon />\r\n];\r\n\r\nconst Mode=()=>{\r\n\r\n    const dispatch=useDispatch();\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [iconIndex,setIcon]=useState(0);\r\n\r\n    let mode='light';\r\n    function fetchSystemMode() {\r\n        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n            mode='dark';\r\n        }else{\r\n            mode='light';\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchSystemMode();\r\n        if (mode==='dark') {\r\n            handleModeChange(1);\r\n        }\r\n    }, [mode]);\r\n\r\n    function handleModeChange(index) {\r\n        if(index===0){\r\n            mode=\"light\";\r\n        }else if(index===1){\r\n            mode=\"dark\";\r\n        }else{\r\n            fetchSystemMode();\r\n        }\r\n        setIcon(index);\r\n        const listItems=document.getElementsByClassName(\"modeItem\");\r\n        for(let i=0;i<3;i++){\r\n            listItems[i].classList.remove(\"activeMode\");\r\n        }\r\n        listItems[index].classList.add(\"activeMode\");\r\n\r\n        dispatch(themeActions.setMode(mode));\r\n        setIsVisible(false);\r\n    }\r\n    function handleDropdown() {\r\n        setIsVisible(!isVisible);\r\n    }\r\n    return(\r\n        <div className=\"theme\">\r\n                <ul className=\"dropdown\" style={{display:isVisible?\"block\":\"none\"}}>\r\n                    <li className=\"modeItem\" onClick={(e)=>handleModeChange(0)}>\r\n                        <LightModeIcon />\r\n                        Light\r\n                        <DoneIcon style={{color:iconIndex===0?\"inherit\":\"transparent\"}}/>\r\n                    </li>\r\n                    <li className=\"modeItem\" onClick={(e)=>handleModeChange(1)}>\r\n                        <DarkModeIcon />\r\n                        Dark\r\n                        <DoneIcon style={{color:iconIndex===1?\"inherit\":\"transparent\"}}/>\r\n                    </li>\r\n                    <li className=\"modeItem\" onClick={(e)=>handleModeChange(2)}>\r\n                        <ContrastIcon />\r\n                        Auto\r\n                        <DoneIcon style={{color:iconIndex===2?\"inherit\":\"transparent\"}}/>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"modeBtn\">\r\n                <button onClick={handleDropdown}>\r\n                    {icons[iconIndex]}\r\n                    <ArrowDropUpIcon/>\r\n                </button>\r\n                </div>\r\n            </div>\r\n    );\r\n};\r\nexport default Mode;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}